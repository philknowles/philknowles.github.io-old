<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Phil Knowles Portfolio | Welcome</title>
<link href='https://fonts.googleapis.com/css?family=Michroma' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="stylesheets/foundation.min.css">
<link rel="stylesheet" href="stylesheets/slide.min.css">
<link rel="stylesheet" href="bower_components/slick-carousel/slick/slick.css">
<link rel="stylesheet" href="bower_components/slick-carousel/slick/slick-theme.css">
<link rel="stylesheet" href="stylesheets/screen.css">
<!--link href='http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css' rel='stylesheet' type='text/css'-->
<style>
    #googleMap iframe {
       width: 100%;
       z-index: 1;

    }
    #googleMap {
       height: 400px;
    }
    #googleMap img { max-width: none; }

    #map-header {
      z-index: 10;
    }

    #map-banner {
      margin-top: 100px;
      position: absolute;
      z-index: 1000;
      color: white;
    }        
    
    #map {
        margin:0 auto;
        width:100%;
        height:450px;
    }
</style>
</head>
<body>
 <div id="googleMap"></div>
    
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
<script>
      $(document).foundation();
</script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
<script>
//Google Styling API
var geocoder = new google.maps.Geocoder();
var address = "San Diego, CA, 92111"; //Add your address here, all on one line.
addresses = [
"289 5th St., St. Paul, MN 55101",
"610 Opperman Drive, Eagan, MN 55123"
];

var latitude;
var longitude;
var color = "#85cad1"; //Set your tint color. Needs to be a hex value.

function getGeocode() {
	geocoder.geocode( { 'address': addresses}, function(results, status) {
		if (status == google.maps.GeocoderStatus.OK) {
    		latitude = results[0].geometry.location.lat();
			longitude = results[0].geometry.location.lng(); 
			initGoogleMap();
    	} 
	});
}

function initGoogleMap() {
	var styles = [
	    {
	      stylers: [
	        { saturation: -100 }
	      ]
	    }
	];
	
	var options = {
		mapTypeControlOptions: {
			mapTypeIds: ['Styled']
		},
		center: new google.maps.LatLng(latitude, longitude),
		zoom: 2,
		scrollwheel: false,
		navigationControl: false,
		mapTypeControl: false,
		zoomControl: true,
		disableDefaultUI: true,	
		mapTypeId: 'Styled'
	};
	var div = document.getElementById('googleMap');
	var map = new google.maps.Map(div, options);
	marker = new google.maps.Marker({
	    map:map,
	    draggable:false,
	    animation: google.maps.Animation.DROP,
	    position: new google.maps.LatLng(latitude,longitude)
	});
	var styledMapType = new google.maps.StyledMapType(styles, { name: 'Styled' });
	map.mapTypes.set('Styled', styledMapType);
	
	var infowindow = new google.maps.InfoWindow({
	      content: "<div class='iwContent'>"+address+"</div>"
	});
	google.maps.event.addListener(marker, 'click', function() {
	    window.location = "http://local.wordpress.dev/blog";
	});
	google.maps.event.addListener(marker, 'mouseover', function() {
	    infowindow.open(map,marker);
	});
		
	
	bounds = new google.maps.LatLngBounds(
	  new google.maps.LatLng(-84.999999, -179.999999), 
	  new google.maps.LatLng(84.999999, 179.999999));

	rect = new google.maps.Rectangle({
	    bounds: bounds,
	    fillColor: color,
	    fillOpacity: 0.2,
	    strokeWeight: 0,
	    map: map
	});

	var listener = google.maps.event.addListener(map, "idle", function() { 
		$('#map-banner').show();
		$("#map-header").fitText(1.2, { minFontSize: '20px', maxFontSize: '400px'});
	  google.maps.event.removeListener(listener); 
	});

}
google.maps.event.addDomListener(window, 'load', getGeocode);

</script>
</body>
</html>
